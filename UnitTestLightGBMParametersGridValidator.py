#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
@author: Angelin Lalev
"""
from LightGBMParametersGridValidator import LightGBMParametersGridValidator

logfile = open("parameters.log", "w")

params = {'min_data_in_leaf': [2, 3, 4], 
        'min_data_in_bin': [2, 3, 4]}

validator = LightGBMParametersGridValidator(
    params,
    #[x*x for x in range(1, 50)], 
    [671166,583805,571390,424876,439112,543746,526822,634425,684755,940200,909983,695955,627195,530792,522671,395224,371166,499100,502792,619067,702695,928023,927834,688555,477479,499031,476232,405836,418177,521725,527932,626536,733431,877434,934831,634902,581852,502148,547777,436887,465437,581630,565325,676582,705553,913245,987494,652391,655290,539016,516650,459585,466595,513621,557163,623490,672528,861186,859113,687907,606522,525435,522600,372655,447258,503557,513506,627954,689368,926307,921119,715469,651510,545170,528077,420978,476993,562176,597572,621651,685113,936334,953755,722286,662972,526862,491154,482896,478161,558520,603409,660860,736156,942878,972770,547296,513404,489898,409788,473506,487678,555412,607358,668974,672156,842633,929705,645718,641320,546585,498598,467604,400275,498507,439038,506460,571977,739385],
    dates=None,
    forecast_horizon=4,  
    lookback=6, 
    number_of_subperiods=12,
    starting_subperiod=3, 
    logfile=logfile)

forecast, mape = validator.validate_combination(
    num_leaves=2,
    max_depth=6, 
    min_data_in_leaf=2,
    min_data_in_bin=2)

validator.search()
